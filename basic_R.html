<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Basic R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">DMo2019 workshop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Overview</a>
</li>
<li>
  <a href="basic_R.html">Basic R</a>
</li>
<li>
  <a href="sir.html">SIR models</a>
</li>
<li>
  <a href="calibration.html">Mdel calibration</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic R</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#r-as-a-calculator">R as a calculator</a></li>
<li><a href="#variables">Variables</a><ul>
<li><a href="#vectors">Vectors</a></li>
<li><a href="#data-frames">Data frames</a></li>
<li><a href="#lists">Lists</a></li>
</ul></li>
<li><a href="#scripts">Scripts</a></li>
</ul>
</div>

<!--
IMAGES:
Insert them with: ![alt text](image.png)
You can also resize them if needed: convert image.png -resize 50% image.png
If you want to center the image, go through HTML code:
<div style="text-align:center"><img src ="image.png"/></div>

REFERENCES:
For references: Put all the bibTeX references in the file "references.bib"
in the current folder and cite the references as @key or [@key] in the text.
Uncomment the bibliography field in the above header and put a "References"
title wherever you want to display the reference list.
-->
<div id="r-as-a-calculator" class="section level2">
<h2>R as a calculator</h2>
<pre class="r"><code>1 + 2</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>3 * 4</code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="r"><code>5 / 6</code></pre>
<pre><code>## [1] 0.8333333</code></pre>
<pre class="r"><code>7 - 8</code></pre>
<pre><code>## [1] -1</code></pre>
</div>
<div id="variables" class="section level2">
<h2>Variables</h2>
<p>Creating variables:</p>
<pre class="r"><code>a &lt;- 1
b &lt;- 2
c &lt;- 3</code></pre>
<p>Listing the variables in the environment:</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<p>Seeing the content of a variable:</p>
<pre class="r"><code>a</code></pre>
<pre><code>## [1] 1</code></pre>
<p>Removing a variable:</p>
<pre class="r"><code>rm(a)</code></pre>
<p>Checking that variable <code>a</code> has been removed:</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;b&quot; &quot;c&quot;</code></pre>
<p>Removing several variables at once:</p>
<pre class="r"><code>rm(b, c)</code></pre>
<p>Checking:</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## character(0)</code></pre>
<div id="vectors" class="section level3">
<h3>Vectors</h3>
<p>Basic data structure in R is vector with is and <strong>ordered</strong> collection of elements, all the same nature:</p>
<pre class="r"><code>a &lt;- c(1, 2, 3)
b &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></pre>
<p>Selecting elements:</p>
<pre class="r"><code>a[1]</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>b[2]</code></pre>
<pre><code>## [1] &quot;b&quot;</code></pre>
<p>Negative selection:</p>
<pre class="r"><code>a[-2]</code></pre>
<pre><code>## [1] 1 3</code></pre>
<pre class="r"><code># is the same as
a[c(1, 3)]</code></pre>
<pre><code>## [1] 1 3</code></pre>
<pre class="r"><code># and
b[-3]</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<pre class="r"><code># is the same as
b[c(1:2)]</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<p>Additional function to use on vectors:</p>
<pre class="r"><code>length()
head()
tail()
seq()</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3>Data frames</h3>
<p>Whereas vectors are 1-dimension structure, data frames are 2-dimension structures (they have rows and columns). A data frame is basically a collection of vectors (organized in columns), all of the same length (the number of rows). To create a data frame:</p>
<pre class="r"><code>mydf &lt;- data.frame(name   = c(&quot;george&quot;, &quot;bob&quot; , &quot;edwin&quot;, &quot;richard&quot;, &quot;lisa&quot;),
                   gender = c(&quot;male&quot;  , &quot;male&quot;, &quot;male&quot; , &quot;male&quot;   , &quot;female&quot;),
                   age    = c(23      , 18    , 43     , 21       , 50),
                   stringsAsFactors = FALSE)</code></pre>
<p>It looks like this:</p>
<pre class="r"><code>mydf</code></pre>
<pre><code>##      name gender age
## 1  george   male  23
## 2     bob   male  18
## 3   edwin   male  43
## 4 richard   male  21
## 5    lisa female  50</code></pre>
<p>To positively and negatively select values from a data frame, it’s the same as for vector (i.e. square brackets), except that here we have to provide indexes for rows and columns separated by a common. Rows are always first. Examples:</p>
<pre class="r"><code>mydf[, 2]</code></pre>
<pre><code>## [1] &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;female&quot;</code></pre>
<pre class="r"><code>mydf[3, ]</code></pre>
<pre><code>##    name gender age
## 3 edwin   male  43</code></pre>
<pre class="r"><code>mydf[-3, ]</code></pre>
<pre><code>##      name gender age
## 1  george   male  23
## 2     bob   male  18
## 4 richard   male  21
## 5    lisa female  50</code></pre>
<pre class="r"><code>mydf[2, 3]</code></pre>
<pre><code>## [1] 18</code></pre>
<pre class="r"><code>mydf[2:4, c(1, 3)]</code></pre>
<pre><code>##      name age
## 2     bob  18
## 3   edwin  43
## 4 richard  21</code></pre>
<pre class="r"><code>mydf[2:4, -1]</code></pre>
<pre><code>##   gender age
## 2   male  18
## 3   male  43
## 4   male  21</code></pre>
<p>Reading an excel file:</p>
<pre class="r"><code>readxl::dengue2010 &lt;- read_excel(&quot;name_of_the_excel_file.xls&quot;)</code></pre>
</div>
<div id="lists" class="section level3">
<h3>Lists</h3>
<p>Lists are a collection of elements which, unlike vectors, do not need to be all of the same nature. Furthermore elements of a list can themselves be lists, which give lists the property to be structured objects.</p>
<pre class="r"><code>my_list &lt;- list(1, 2, 3)
my_list</code></pre>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3</code></pre>
<p>Same as for vector, if you want to select elements of a list, use the single square brackets <code>[]</code>:</p>
<pre class="r"><code>my_list[2:3]</code></pre>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3</code></pre>
<pre class="r"><code>my_list[-1]</code></pre>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3</code></pre>
<pre class="r"><code>my_list[1]</code></pre>
<pre><code>## [[1]]
## [1] 1</code></pre>
<p>In case you select only one element of the list, you may want to drop the list structure that you may not need any more. For that, use the double square brackets <code>[[]]</code> instead of single square brackets <code>[]</code>:</p>
<pre class="r"><code>my_list[2]</code></pre>
<pre><code>## [[1]]
## [1] 2</code></pre>
<pre class="r"><code>my_list[[2]]</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Same as for vectors, you can name the elements of a list:</p>
<pre class="r"><code>my_list &lt;- list(first = 1, second = 2, third = 3)
my_list</code></pre>
<pre><code>## $first
## [1] 1
## 
## $second
## [1] 2
## 
## $third
## [1] 3</code></pre>
<p>And you can use these names instead of indexes to select the elements of a list:</p>
<pre class="r"><code>my_list[1]</code></pre>
<pre><code>## $first
## [1] 1</code></pre>
<pre class="r"><code>my_list[&quot;first&quot;]</code></pre>
<pre><code>## $first
## [1] 1</code></pre>
<pre class="r"><code>my_list[c(1, 3)]</code></pre>
<pre><code>## $first
## [1] 1
## 
## $third
## [1] 3</code></pre>
<pre class="r"><code>my_list[c(&quot;first&quot;, &quot;third&quot;)]</code></pre>
<pre><code>## $first
## [1] 1
## 
## $third
## [1] 3</code></pre>
<p>Finally, a very useful function to use on list is the <code>with()</code> function: it tells, in what list R should be looking for the elements you are talking about. Exammple:</p>
<pre class="r"><code>first + 1</code></pre>
<p>returns an error because by default R look for objects in the global environment, and there is no such object named <code>first</code> in the global environment:</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;a&quot;       &quot;b&quot;       &quot;my_list&quot; &quot;mydf&quot;</code></pre>
<p>If you meant the element of the list <code>my_list</code> named <code>first</code>, then, you can specify it this way:</p>
<pre class="r"><code>my_list[[&quot;first&quot;]] + 1</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Note here that we dropped the list structure by the use of the double square brackets <code>[[]]</code>. An alternative to the above command is to use the <code>with()</code> function:</p>
<pre class="r"><code>with(my_list, first + 1)</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Here, <code>with()</code> tells R to look for an element named <code>first</code> in the list named <code>my_list</code>.</p>
<div id="advanced" class="section level4">
<h4>Advanced</h4>
<p>Two advanced points:</p>
<ul>
<li>Use of the dollar sign <code>$</code></li>
</ul>
<p>If you are selecting only one element of a list, then, the tree commands below are equivalent:</p>
<pre class="r"><code>my_list[[2]]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>my_list[[&quot;second&quot;]]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>my_list$second</code></pre>
<pre><code>## [1] 2</code></pre>
<ul>
<li>Data frame are lists where all the elements (columns) are all vectors of the same length. In consequence, you can also make use of <code>[[]]</code> and <code>$</code> to select elements of a data frame as you would do for any regular list:</li>
</ul>
<pre class="r"><code>mydf[[2]]</code></pre>
<pre><code>## [1] &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;female&quot;</code></pre>
<pre class="r"><code>mydf[[&quot;gender&quot;]]</code></pre>
<pre><code>## [1] &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;female&quot;</code></pre>
<pre class="r"><code>mydf$gender</code></pre>
<pre><code>## [1] &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;male&quot;   &quot;female&quot;</code></pre>
</div>
</div>
</div>
<div id="scripts" class="section level2">
<h2>Scripts</h2>
<p>Open a new script file and write:</p>
<pre class="r"><code># step 1: make a vector of 20 random values,
# normally distributed:
myvar &lt;- rnorm(25)

# step 2: select the first 5 and the last 5 values:
myvar &lt;- myvar[-(6:15)]

# step 3: replace the third value by 3:
myvar[3] &lt;- 3</code></pre>
<p>Save the script in <code>vector selection.R</code> and source it:</p>
<pre class="r"><code>source(&#39;vector selection.R&#39;)</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
