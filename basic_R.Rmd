---
title: "Basic R"
output:
  html_document:
    theme: cosmo
    toc: yes
  pdf_document:
    toc: yes
editor_options: 
  chunk_output_type: console
---

<!--
IMAGES:
Insert them with: ![alt text](image.png)
You can also resize them if needed: convert image.png -resize 50% image.png
If you want to center the image, go through HTML code:
<div style="text-align:center"><img src ="image.png"/></div>

REFERENCES:
For references: Put all the bibTeX references in the file "references.bib"
in the current folder and cite the references as @key or [@key] in the text.
Uncomment the bibliography field in the above header and put a "References"
title wherever you want to display the reference list.
-->

```{r general_options, include = FALSE}
knitr::knit_hooks$set(margin = function(before, options, envir) {
  if (before) par(mgp = c(1.5, .5, 0), bty = "n", plt = c(.105, .97, .13, .97))
  else NULL
})

knitr::opts_chunk$set(margin = TRUE, prompt = FALSE, comment = "##",
                      collapse = FALSE, cache = FALSE, autodep = TRUE,
                      dev.args = list(pointsize = 11), fig.height = 3.5,
                      fig.width = 4.24725, fig.retina = 2, fig.align = "center")

l <- "en_US.UTF-8"
Sys.setenv(LANGAGE = l)
Sys.setlocale(locale = l)
Sys.setlocale("LC_MESSAGES", l)

# cleaning the packages space:
search_path <- search()
pkgs <- c("stats", "graphics", "grDevices", "utils", "datasets", "methods", "base")
tdet <- grep("package", search_path[!(search_path %in% paste0("package:", pkgs))],
             value = TRUE)
for(i in tdet) detach(i, unload = TRUE, character.only = TRUE)

rm(list = ls())
```

## R as a calculator

```{r}
1 + 2
3 * 4
5 / 6
7 - 8
```

## Variables

Creating variables:

```{r}
a <- 1
b <- 2
c <- 3
```

Listing the variables in the environment:

```{r}
ls()
```

Seeing the content of a variable:

```{r}
a
```

Removing a variable:

```{r}
rm(a)
```

Checking that variable `a` has been removed:

```{r}
ls()
```

### Vectors

Basic data structure in R is vector with is and **ordered** collection of 
elements, all the same nature:

```{r}
a <- c(1, 2, 3)
b <- c("a", "b", "c")
```

Selecting elements:
```{r}
a[1]
b[2]
```

Negative selection:

```{r}
a[-2]
# is the same as
a[c(1, 3)]
# and
b[-3]
# is the same as
b[c(1:2)]
```

## Scripts

Open a new script file and write:

```{r}
# step 1: make a vector of 20 random values,
# normally distributed:
myvar <- rnorm(25)

# step 2: select the first 5 and the last 5 values:
myvar <- myvar[-(6:15)]

# step 3: replace the third value by 3:
myvar[3] <- 3
```

Save the script in `vector selection.R` and source it:

```{r, eval = FALSE}
source('vector selection.R')
```

## Additional useful functions

```{r, eval = FALSE}
length()
head()
tail()
seq()
```

